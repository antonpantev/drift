<html>
<head>
<script src="assets/js/jquery-2.1.0.min.js"></script>
<script>
$(document).ready(function() {
    getLocation();

    $('#mainBtn').click(function() {
        var params = { ll: position };
        $.get('/yelp', params, function(data) {
            for(var i in data) {
                var address = data[i].result.location.display_address;
                
                var str = "";
                for(var j in address) {
                    str += address[j] + " ";
                }
                console.log(str);
            }
            console.log(data);
        });
    });
});

var position = null;

function getLocation()
{
    if (navigator.geolocation)
    {
        navigator.geolocation.getCurrentPosition(function(pos) {
            position = [pos.coords.latitude, pos.coords.longitude].toString();;
        });
    }
    else{
        console.log('crap no geolocation');
    }
}
</script>
</head>
<body>
<button id="mainBtn" type="button">Click Me!</button>
<div id="output">
</div>
</body>
</html>